name: amnezia-api-dev

services:
  api:
    image: node:22-bookworm-slim
    working_dir: /app
    init: true
    command: sh -lc "npm ci && npm run dev"
    ports:
      - "127.0.0.1:4001:4001"
    environment:
      FASTIFY_ROUTES: "0.0.0.0:4001"
      ENV: "development"
    env_file:
      - .env
    volumes:
      - ./:/app
